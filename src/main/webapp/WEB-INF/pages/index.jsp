<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<c:import url="/WEB-INF/pages/e715/layout/header.jsp"></c:import>
<div class="container" style="margin: 50px auto;">
	<div class="container">
		<ul class="nav nav-tabs" id="tabs">
			<li style="width: 25%; text-align: center;"><a
				class="categorylist" href="#">熱門</a></li>
			<li style="width: 25%; text-align: center;"><a
				class="categorylist" href="#">最新</a></li>
			<li style="width: 25%; text-align: center;"><a
				class="categorylist" href="#">誠信</a></li>
			<li style="width: 25%; text-align: center;"><a
				class="categorylist" href="#">推薦</a></li>
		</ul>
	</div>
	<br>
	<div class="row">
		<div class="col-md-1"></div>
		<div class="col-md-10" id="productlist">

			<div class="holder"></div>
			<div id="itemContainer">
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
				<div class="proddiv">
					<img class="prodimg" src="/resources/imgs/01.jpg">雙雙的Mac
				</div>
			</div>
			<div class="holder"></div>




		</div>






	</div>
</div>
<nav class="alignCenter">
	<ul class="pagination">
		<li><a href="#" aria-label="Previous"> <span
				aria-hidden="true">&laquo;</span>
		</a></li>
		<li><a href="#">1</a></li>
		<li><a href="#">2</a></li>
		<li><a href="#">3</a></li>
		<li><a href="#">4</a></li>
		<li><a href="#">5</a></li>
		<li><a href="#" aria-label="Next"> <span aria-hidden="true">&raquo;</span>
		</a></li>
	</ul>
</nav>

</div>




<script type="text/javascript">

$('.categorylist').click(function() {
	
// 	console.log("category = "+ $(this).text());
	
	
	$.ajax({
		contentType:"application/json",
		url:"/query",
		dataType :"json",
		type:"get",
		data:{ "orderby" : $(this).text()},
		success: function(data){
// 			console.log(data);
			
			
			$("#itemContainer").html('');
			$.each(data,function(i){
				
				getpicture(data[i]);
				
				var productdiv = $("<div></div>");
				var aclick = $("<a>").attr("href","/product/"+data[i].id);
				var productimg = $("<img>").addClass("prodimg");
				$(aclick).text(data[i].name).append($(productimg));
				$(productdiv).addClass("proddiv").append($(aclick));
				
				$("#itemContainer").append(productdiv);
				
			})
		}
	});
	

});

////localdatime出錯
// function getpicture(prod){
// 	console.log(prod)
// 	$.ajax({
// 			contentType:"application/json",
// 			url:"/queryimg",
// 			dataType :"json",
// 			type:"post",
// 			data:JSON.stringify(prod),
// 			success: function(data){
// 				console.log(data);
// 				}
// 			})
// 		};
function getpicture(prod){
	var formData={"id":prod.id}
	$.ajax({
			contentType:"application/json",
			url:"/queryimg",
			dataType :"json",
			type:"get",
			data:formData,
			success: function(data){
				console.log("Test"+JSON.stringify(data));
			}
	});
}
</script>
<script>
	$(function() {
		$("div.holder").jPages({
			containerID : "itemContainer",
			perPage : 8,
 			fallback: 500,
 			first: "第一頁",
 			previous: "上一頁",
 			next: "下一頁",
 			last: "最後頁",
		});

	});
	
	
	
</script>
<c:import url="/WEB-INF/pages/e715/layout/footer.jsp"></c:import>



